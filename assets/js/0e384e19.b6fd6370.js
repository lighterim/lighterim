"use strict";(self.webpackChunklighter_docs=self.webpackChunklighter_docs||[]).push([[3976],{2053:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>d,frontMatter:()=>o,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"intro","title":"intro","description":"Lighter.IM Protocol: A Zero-Knowledge Proof-Powered Decentralized On/Off-Ramp","source":"@site/docs/intro.md","sourceDirName":".","slug":"/intro","permalink":"/docs/intro","draft":false,"unlisted":false,"editUrl":"https://github.com/${organizationName}/${projectName}/tree/main/docs/intro.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","next":{"title":"Overview - Basics","permalink":"/docs/category/overview---basics"}}');var r=i(4848),s=i(8453);const o={sidebar_position:1},a=void 0,l={},c=[{value:"Lighter.IM Protocol: A Zero-Knowledge Proof-Powered Decentralized On/Off-Ramp",id:"lighterim-protocol-a-zero-knowledge-proof-powered-decentralized-onoff-ramp",level:2},{value:"Executive Summary",id:"executive-summary",level:2},{value:"1. Core Architecture and Trust Model",id:"1-core-architecture-and-trust-model",level:2},{value:"1.1. Tokenized Identity: The Lighter Ticket (ERC-6551 TBA)",id:"11-tokenized-identity-the-lighter-ticket-erc-6551-tba",level:3},{value:"1.2. Non-Custodial Escrow via Uniswap Permit2",id:"12-non-custodial-escrow-via-uniswap-permit2",level:3},{value:"1.3. Decentralized Communication: Nostr Protocol",id:"13-decentralized-communication-nostr-protocol",level:3},{value:"2. Canonical Transaction Flow (ZKP-Enabled)",id:"2-canonical-transaction-flow-zkp-enabled",level:2},{value:"3. Key Infrastructure and ZKP Mechanism",id:"3-key-infrastructure-and-zkp-mechanism",level:2},{value:"3.1. ZKVerify: Cross-Chain Verifiable Computing Environment",id:"31-zkverify-cross-chain-verifiable-computing-environment",level:3},{value:"3.2. Privacy Assurance via zkTLS Session",id:"32-privacy-assurance-via-zktls-session",level:3},{value:"3.3. Security and Future Outlook",id:"33-security-and-future-outlook",level:3}];function h(e){const t={code:"code",em:"em",h2:"h2",h3:"h3",hr:"hr",img:"img",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h2,{id:"lighterim-protocol-a-zero-knowledge-proof-powered-decentralized-onoff-ramp",children:"Lighter.IM Protocol: A Zero-Knowledge Proof-Powered Decentralized On/Off-Ramp"}),"\n",(0,r.jsx)(t.h2,{id:"executive-summary",children:"Executive Summary"}),"\n",(0,r.jsx)(t.p,{children:"Lighter.IM Protocol is a pioneering decentralized fiat on/off-ramp solution that leverages Zero-Knowledge Proof (ZKP) technology. Its mission is to lower the barrier for ordinary users entering and exiting the Web3 ecosystem by providing an environment that is safe, efficient, and easy to use."}),"\n",(0,r.jsxs)(t.p,{children:["The protocol's core innovation lies in combining the non-custodial security of decentralized finance (DeFi) with ZKP-based verification of off-chain fiat payments. By enabling the buyer to generate a ZKP of their payment credential locally on a browser extension, Lighter.IM allows the on-chain smart contract to trust the fiat transaction ",(0,r.jsx)(t.strong,{children:"without requiring the user to disclose any sensitive bank information"}),". Lighter.IM acts as a faithful fiduciary for the seller's intent, automatically releasing escrowed assets upon successful proof verification."]}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h2,{id:"1-core-architecture-and-trust-model",children:"1. Core Architecture and Trust Model"}),"\n",(0,r.jsx)(t.p,{children:"Lighter.IM\u2019s architecture is built upon three foundational pillars: Tokenized Identity, Non-Custodial Asset Management, and Decentralized Communication."}),"\n",(0,r.jsx)(t.h3,{id:"11-tokenized-identity-the-lighter-ticket-erc-6551-tba",children:"1.1. Tokenized Identity: The Lighter Ticket (ERC-6551 TBA)"}),"\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.strong,{children:"Lighter Ticket"})," serves as a user's identity marker when participating in the Lighter.IM Protocol. Crucially, the Ticket is not merely an NFT but an account built on the ",(0,r.jsx)(t.strong,{children:"ERC-6551 standard (Token Bound Account, TBA)"})," (Confirmed by user)."]}),"\n",(0,r.jsx)(t.p,{children:"This identity structure enables the essential separation of asset control from transactional history and fulfillment record. While the Lighter Ticket owns the history of transaction behavior and fulfillment, the actual assets remain controlled by a separate, dedicated Escrow contract. This design maximizes asset security by ensuring that even if the identity token (Ticket) is compromised, the assets are independently secured, while simultaneously allowing the user to conveniently accumulate verifiable on-chain credit."}),"\n",(0,r.jsx)(t.h3,{id:"12-non-custodial-escrow-via-uniswap-permit2",children:"1.2. Non-Custodial Escrow via Uniswap Permit2"}),"\n",(0,r.jsxs)(t.p,{children:["The protocol\u2019s asset custody mechanism is entirely non-custodial, relying on Uniswap\u2019s ",(0,r.jsx)(t.strong,{children:"Permit2"})," standard for delegated token transfers, rather than traditional unlimited ERC-20 ",(0,r.jsx)(t.code,{children:"approve"})," grants."]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Seller Intent Signature:"})," When a seller publishes their intent to sell, they sign a message based on Permit2. This signature sets critical transfer parameters, including the expiry deadline, amount, the authorized spender (the Escrow contract), and a nonce."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Witnessing Data:"})," Permit2 allows the inclusion of ",(0,r.jsx)(t.strong,{children:"witnessing data"}),", such as the specific details of the seller\u2019s intent\u2014amount, price, and payment method."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Fidelity:"})," This setup ensures that Lighter.IM can faithfully execute the transaction precisely according to the seller\u2019s signed intent. Assets are transferred to the Escrow contract ",(0,r.jsx)(t.em,{children:"only when a transaction actually occurs"})," (i.e., when a buyer confirms the intent), mitigating the security risk of assets being indefinitely held in pre-approved allowance."]}),"\n"]}),"\n",(0,r.jsx)(t.h3,{id:"13-decentralized-communication-nostr-protocol",children:"1.3. Decentralized Communication: Nostr Protocol"}),"\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.strong,{children:"Nostr Protocol"})," serves as the infrastructure layer for secure, decentralized communication. It provides a public-key cryptography-encrypted protocol for publishing sell intents, exchanging transaction details, and facilitating user-to-user communication (chat). Sellers publish their intents to a Nostr Relayer, ensuring that the dissemination of transaction information is decentralized and cryptographically secured."]}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h2,{id:"2-canonical-transaction-flow-zkp-enabled",children:"2. Canonical Transaction Flow (ZKP-Enabled)"}),"\n",(0,r.jsx)(t.p,{children:"The Lighter.IM transaction flow combines the finality of on-chain smart contracts with the privacy of off-chain ZKP verification, structured into the following key steps:"}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"transaction flow",src:i(3013).A+"",width:"1280",height:"413"})}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{style:{textAlign:"left"},children:"Step"}),(0,r.jsx)(t.th,{style:{textAlign:"left"},children:"Role"}),(0,r.jsx)(t.th,{style:{textAlign:"left"},children:"Operation"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"left"},children:(0,r.jsx)(t.strong,{children:"1"})}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:(0,r.jsx)(t.strong,{children:"Seller"})}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"Signs the Permit2-based sell intent and publishes it to the Nostr Relayer."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"left"},children:(0,r.jsx)(t.strong,{children:"2"})}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:(0,r.jsx)(t.strong,{children:"Buyer"})}),(0,r.jsxs)(t.td,{style:{textAlign:"left"},children:["Confirms the seller's intent and initiates the Escrow transaction.",(0,r.jsx)("br",{}),(0,r.jsx)(t.strong,{children:"\u2022"})," The seller's assets are transferred to the Escrow custody contract, verified by the Permit2 signature. The protocol verifies the match between the seller's intent and the transaction details."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"left"},children:(0,r.jsx)(t.strong,{children:"3"})}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:(0,r.jsx)(t.strong,{children:"Buyer"})}),(0,r.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,r.jsx)(t.strong,{children:"Off-Chain Payment:"})," The buyer completes the fiat payment (e.g., bank transfer) off-chain as required by the transaction details."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"left"},children:(0,r.jsx)(t.strong,{children:"4"})}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:(0,r.jsx)(t.strong,{children:"Buyer (Prover)"})}),(0,r.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,r.jsx)(t.strong,{children:"ZKP Generation & Privacy:"})," The buyer uses the Lighter.IM browser extension (Prover) to generate the ZKP proof.",(0,r.jsx)("br",{}),(0,r.jsx)(t.strong,{children:"\u2022"})," The extension establishes a zkTLS session via the zkTLS Proxy (Verifier), which witnesses the payment credential information.",(0,r.jsx)("br",{}),(0,r.jsx)(t.strong,{children:"\u2022"})," The Prover generates the ZKP using ",(0,r.jsx)(t.strong,{children:"desensitized data and witnessing information"})," (assisted by the user). Crucially, sensitive payment data ",(0,r.jsx)(t.strong,{children:"never leaves the user's device"}),"."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"left"},children:(0,r.jsx)(t.strong,{children:"5"})}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:(0,r.jsx)(t.strong,{children:"ZKVerify & On-Chain Release"})}),(0,r.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,r.jsx)(t.strong,{children:"Cross-Chain Verification & State Relay:"}),(0,r.jsx)("br",{}),(0,r.jsx)(t.strong,{children:"\u2022"})," The Prover submits the proof to the ",(0,r.jsx)(t.strong,{children:"ZKVerify relay"}),".",(0,r.jsx)("br",{}),(0,r.jsx)(t.strong,{children:"\u2022"})," ZKVerify (utilizing Horizen infrastructure) verifies the proof on its application chain and performs ",(0,r.jsx)(t.strong,{children:"state aggregation/relay"})," to the Lighter.IM contract on the target chain.",(0,r.jsx)("br",{}),(0,r.jsx)(t.strong,{children:"\u2022"})," The buyer submits the final proof and transaction information to the Lighter.IM protocol contract on the target chain. Upon successful verification of the ZKP, the contract releases the escrowed assets to the buyer."]})]})]})]}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h2,{id:"3-key-infrastructure-and-zkp-mechanism",children:"3. Key Infrastructure and ZKP Mechanism"}),"\n",(0,r.jsx)(t.h3,{id:"31-zkverify-cross-chain-verifiable-computing-environment",children:"3.1. ZKVerify: Cross-Chain Verifiable Computing Environment"}),"\n",(0,r.jsx)(t.p,{children:"Horizen/ZKVerify provides the necessary infrastructure and runtime environment for the specialized ZKP generation and verification processes within the Lighter.IM Protocol."}),"\n",(0,r.jsxs)(t.p,{children:["Lighter.IM utilizes ZKVerify to achieve ",(0,r.jsx)(t.strong,{children:"cross-chain verifiability"})," and standardize the proof mechanism. This strategic partnership allows the computationally intensive ZKP verification to be offloaded to the ZKVerify application chain. The result is then securely communicated back to the Lighter.IM main contract on the multi-chain via a ",(0,r.jsx)(t.strong,{children:"state aggregation and relay"})," mechanism. This approach significantly optimizes Gas costs and enhances the overall efficiency of the transaction finalization on the destination chain."]}),"\n",(0,r.jsx)(t.h3,{id:"32-privacy-assurance-via-zktls-session",children:"3.2. Privacy Assurance via zkTLS Session"}),"\n",(0,r.jsx)(t.p,{children:"The protocol relies on zkTLS technology to securely and privately attest to the existence of the off-chain payment credential."}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Prover (Browser Extension):"})," Runs locally on the user's device. It obtains the necessary payment information (with user assistance) and uses it as the secret input (Witness) for the ZKP."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"zkTLS Proxy (Verifier):"})," Acts as a trustless witness, establishing a zkTLS session with the Prover."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"The Guarantee:"})," Within this session, the Proxy can attest to the validity of the payment credential without ever accessing or decrypting the raw, sensitive payment data itself. The Prover uses the desensitized, witnessed information to construct the ZKP, mathematically proving the truth of the statement (payment made) without revealing the underlying secrets."]}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:["This mechanism is central to Lighter.IM's trust model: the protocol can operate on the principle of ",(0,r.jsx)(t.strong,{children:'"Don\'t Trust, Verify"'})," by relying on cryptographic soundness to confirm the payment, rather than trusting the user's direct claim or requiring disclosure of private data."]}),"\n",(0,r.jsx)(t.h3,{id:"33-security-and-future-outlook",children:"3.3. Security and Future Outlook"}),"\n",(0,r.jsx)(t.p,{children:"The security of the Lighter.IM Protocol is derived from its non-custodial design, the time/amount-bounded nature of Permit2, and the cryptographic guarantee of ZKP against fraud."}),"\n",(0,r.jsx)(t.p,{children:"By tokenizing user identity into an ERC-6551 TBA and delegating ZKP validation to specialized infrastructure (ZKVerify), Lighter.IM achieves a level of security, verifiability, and decentralization rarely found in traditional fiat on/off-ramp services. As users continue to transact, the fulfillment history accumulated by the Lighter Ticket is poised to become a vital foundation for decentralized credit within the broader Web3 ecosystem."})]})}function d(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},3013:(e,t,i)=>{i.d(t,{A:()=>n});const n=i.p+"assets/images/lighter_im_tx_flow-6cf975ab57a87660cb997bd4772deaad.jpg"},8453:(e,t,i)=>{i.d(t,{R:()=>o,x:()=>a});var n=i(6540);const r={},s=n.createContext(r);function o(e){const t=n.useContext(s);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),n.createElement(s.Provider,{value:t},e.children)}}}]);